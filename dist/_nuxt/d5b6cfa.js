(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1024:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(741),o={email:{email:n.email,required:n.required}}},1025:function(e,t,r){var content=r(1264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("7efbfcf2",content,!0,{sourceMap:!1})},1109:function(e,t,r){"use strict";var n=r(285),o=r(717),c=r(716),l=r(735),f=r(754),m=r(195),d=r(734),h=r(110),v=(r(12),r(10),r(7),r(3),r(15),r(11),r(16),r(4)),_=r(1),y=(r(46),r(32),r(41)),x=r(739),w=r(28),$=r(741),O={email:{email:$.email,required:$.required},avatar:{},username:{},first_name:{required:$.required},last_name:{required:$.required},place_id:{required:$.required},password:{required:$.required},password_confirmation:{required:$.required}},C=r(1024),k=r(275),j=r(783),S=r(866),E=r(865),P=r(99),L=r(279);function I(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var F={name:"SignupForm",components:{ErrorMessage:k.a,PasswordField:j.a,SelectLocation:S.a,ImageCropper:E.a,Avatar:L.a},mixins:[x.c],props:{currentStep:{type:Number,required:!0},maxAvatarSize:{type:Number,default:3}},data:function(){return{showImageCropper:!1}},computed:D(D(D({hasError:x.b},Object(y.e)({form:function(e){return e.user.signup},login:function(e){return e.user.login}})),Object(y.c)({isLoggedIn:"user/isLoggedIn"})),{},{buttonLabel:function(){return 2===this.currentStep?"Sign up":"Continue"},submitAction:function(){return 2===this.currentStep?"user/signup":"user/checkEmail"},submitValidation:function(){return 2===this.currentStep?O:C.a},onChecking:function(){return 1===this.currentStep},onRegister:function(){return 2===this.currentStep}}),mounted:function(){this.$v.$reset()},methods:{reset:function(){this.form.$reset(),this.$v.$reset()},toggleImageCropper:function(e){this.showImageCropper=null!==e?e:!this.showImageCropper},uploadPhoto:function(e){var t=this;return Object(v.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.$set(t.form.$errors,"avatar",{}),r.next=3,P.a.toBase64(e,t.maxAvatarSize).then((function(e){t.form.avatar=e})).catch((function(e){t.$set(t.form.$errors,"avatar",[e.message])}));case 3:case"end":return r.stop()}}),r)})))()},submit:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.form.$clearErrors(),e.form.$busy||e.isLoggedIn||e.$v.$invalid){t.next=5;break}return t.next=5,e.$store.dispatch(e.submitAction,e.getFormData()).then((function(t){e.form.$hasErrors()||(e.onChecking?t&&t.is_available?e.$router.push({name:"sign-up-details"}):e.form.$errorMessage="Email already taken":(e.reset(),e.login.$reset(),e.$router.push({name:"verify"})))}));case 5:case"end":return t.stop()}}),t)})))()},getFormData:function(){var e=new FormData;return 2===this.currentStep?(Object(w.f)(e,this.form.$data()),e):{email:this.form.email}}},validations:function(){return{form:this.submitValidation}}},M=(r(1263),r(14)),component=Object(M.a)(F,(function(){var e=this,t=e._self._c;return t(o.a,{staticClass:"signup-form",attrs:{flat:""}},[t(c.b,[t(f.a,{staticClass:"signup-form__form",attrs:{"aria-autocomplete":"off"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"signup-form__header screen-border"},[t("h4",[e._v("Join "+e._s(e.$store.getters.appName))])]),e._v(" "),t("div",{staticClass:"signup-form__fields screen-border"},[t(d.a,[e.onChecking?[t(l.a,{attrs:{cols:"12"}},[t(h.a,{attrs:{type:"text",required:"",flat:"",filled:"","hide-details":"auto",label:"Enter your email",autocomplete:"off",disabled:e.form.$busy,"error-messages":e.form.$getError("email")||e.hasError("form.email","Email")},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.submit.apply(null,arguments))}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]:e._e(),e._v(" "),e.onRegister?[t(l.a,{attrs:{cols:"12"}},[t("image-cropper",{on:{change:e.uploadPhoto,close:function(t){return e.toggleImageCropper(!1)}},model:{value:e.showImageCropper,callback:function(t){e.showImageCropper=t},expression:"showImageCropper"}}),e._v(" "),t("div",{staticClass:"image-container mb-5"},[t("div",{staticClass:"image-avatar",on:{drop:function(t){return t.preventDefault(),e.toggleImageCropper(!0)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[t("Avatar",{attrs:{avatar:e.form.avatar,"default-avatar":r(1262)}}),e._v(" "),t("div",[t(n.a,{staticClass:"image-btn",attrs:{icon:""},on:{click:function(t){return e.toggleImageCropper(!0)}}},[t(m.a,{attrs:{medium:"",color:"white"}},[e._v("\n                        mdi-plus\n                      ")])],1)],1)],1)]),e._v(" "),t("ErrorMessage",{staticClass:"image-error mt-2",attrs:{error:e.form.$getError("avatar")||e.hasError("form.avatar","Avatar")}})],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t(h.a,{attrs:{type:"text",required:"",flat:"",filled:"","hide-details":"auto",label:"Enter your username",autocomplete:"off",disabled:e.form.$busy,"error-messages":e.form.$getError("username")||e.hasError("form.username","Username")},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t(h.a,{attrs:{type:"text",required:"",flat:"",filled:"","hide-details":"auto",label:"First name",autocomplete:"off",disabled:e.form.$busy,"error-messages":e.form.$getError("first_name")||e.hasError("form.first_name","First name")},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t(h.a,{attrs:{type:"text",required:"",flat:"",filled:"","hide-details":"auto",label:"Last name",autocomplete:"off",disabled:e.form.$busy,"error-messages":e.form.$getError("last_name")||e.hasError("form.last_name","Last name")},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t("SelectLocation",{attrs:{required:"",flat:"",filled:"","hide-details":"auto",disabled:e.form.$busy,"error-messages":e.form.$getError("place_id")||e.hasError("form.place_id","Location")},model:{value:e.form.place_id,callback:function(t){e.$set(e.form,"place_id",t)},expression:"form.place_id"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t("PasswordField",{attrs:{required:"",flat:"",filled:"","hide-details":"auto",label:"Password",autocomplete:"off","on-enter":e.submit,disabled:e.form.$busy,"error-messages":e.form.$getError("password")||e.hasError("form.password","Password")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),t(l.a,{attrs:{cols:"12"}},[t("PasswordField",{attrs:{required:"",flat:"",filled:"","hide-details":"auto",label:"Confirm password",autocomplete:"off","on-enter":e.submit,disabled:e.form.$busy,"error-messages":e.form.$getError("password_confirmation")||e.hasError("form.password_confirmation","Confirm password")},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}})],1)]:e._e(),e._v(" "),t(l.a,{staticClass:"py-0",attrs:{cols:"12"}},[t("ErrorMessage",{staticClass:"mt-2",attrs:{error:e.form.$errorMessage}})],1)],2)],1),e._v(" "),e.onRegister?t("div",{staticClass:"signup-form__menu screen-border"},[t("p",{staticClass:"text-caption text-center mx-auto"},[e._v("\n          By signing up, you agree to our\n          "),t("NuxtLink",{attrs:{to:{name:"terms-and-conditions"}}},[t("b",{staticClass:"text-caption font-weight-bold"},[e._v("Terms and conditions")])])],1)]):e._e(),e._v(" "),t("div",{staticClass:"signup-form__actions screen-border"},[t(n.a,{staticClass:"signup-form__actions__submit",attrs:{disabled:e.form.$busy,loading:e.form.$busy,color:"primary",depressed:""},on:{click:function(t){return e.submit()}}},[e._v("\n          "+e._s(e.buttonLabel)+"\n        ")])],1)])],1)],1)}),[],!1,null,"87049a52",null);t.a=component.exports},1262:function(e,t,r){e.exports=r.p+"img/default-profile.f8abc5f.png"},1263:function(e,t,r){"use strict";r(1025)},1264:function(e,t,r){var n=r(19)(!1);n.push([e.i,".signup-form[data-v-87049a52]{max-width:770px;margin-left:auto;margin-right:auto;border-radius:16px}.signup-form__form[data-v-87049a52]{max-width:600px;margin:0 auto}.signup-form__header[data-v-87049a52]{margin-bottom:35px;text-align:center}.signup-form__fields[data-v-87049a52]{margin-bottom:30px}.signup-form__fields .col[data-v-87049a52]{padding-bottom:0}.signup-form__fields .image-container[data-v-87049a52]{width:97px;height:97px;display:block;margin:0 auto}.signup-form__fields .image-avatar[data-v-87049a52]{margin:auto;position:relative}.signup-form__fields .image-btn[data-v-87049a52]{position:absolute;width:30px;height:30px;border-radius:50px!important;right:-10.5px;bottom:-15px;background:#007675!important;border:2px solid #fff}.signup-form__fields .image-error[data-v-87049a52]{text-align:center}.signup-form__menu[data-v-87049a52]{margin:0 auto}.signup-form__menu p[data-v-87049a52]{text-transform:none!important}.signup-form__actions[data-v-87049a52]{margin-top:30px;text-align:center}.signup-form__actions__submit[data-v-87049a52]{width:100%;max-height:56px}@media(max-width:540px){.signup-form[data-v-87049a52]{min-height:500px;padding-bottom:43px;background:transparent}.signup-form[data-v-87049a52] .v-card__text{padding:0}.signup-form__header[data-v-87049a52]{text-align:left;margin-bottom:10px}.signup-form__header>*[data-v-87049a52]{font-size:22px}}",""]),e.exports=n},716:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return m}));var n=r(717),o=r(0),c=Object(o.i)("v-card__actions"),l=Object(o.i)("v-card__subtitle"),f=Object(o.i)("v-card__text"),m=Object(o.i)("v-card__title");n.a},739:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return n.validationMixin}));r(3);var n=r(740),o=(r(29),{required:function(e){var t=e.field,r=e.plural;return"".concat(t," ").concat(r?"are":"is"," required")},email:function(e){var t=e.field;e.plural;return"".concat(t," must be a valid email address")},integer:function(e){var t=e.field;e.plural;return"".concat(t," must be a whole number")},decimal:function(e){var t=e.field;e.plural;return"".concat(t," must be a number")},numeric:function(e){var t=e.field;e.plural;return"".concat(t," must be numeric")},minLength:function(e){var t=e.$v,r=e.key,n=l(t,r).$params.minLength.min;return"Must have ".concat(n," characters or more.")},maxLength:function(e){var t=e.$v,r=e.key,n=l(t,r).$params.maxLength.max;return"Must have ".concat(n," characters or less.")},minValue:function(e){var t=e.$v,r=e.key,n=l(t,r).$params.minValue.min;return"Must have ".concat(n," value or more.")},maxValue:function(e){var t=e.$v,r=e.key,n=l(t,r).$params.maxValue.max;return"Must have ".concat(n," value or less.")},phone:function(e){var t=e.field;return"".concat(t," must be a valid phone number")},mobile:function(e){var t=e.field;return"".concat(t," must be a valid mobile number")},e164:function(e){var t=e.field;return"".concat(t," must be on E164 format")},lessonScheduleConflict:function(e){e.field;return"You've already scheduled this slot"},lessonScheduleMaxFrequency:function(e){e.field;return"Should only repeat up to equal a year"}}),c=["email","required","integer","decimal","numeric","minLength","maxLength","maxValue","minValue","phone","mobile","e164","lessonScheduleConflict","lessonScheduleMaxFrequency"],l=function(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)},f=function(){return function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=l(this.$v,e);return f&&f.$dirty?c.reduce((function(c,l){return Object.prototype.hasOwnProperty.call(f,l)&&!f[l]&&c.push(o[l]({$v:r.$v,key:e,field:t,plural:n})),c}),[]):[]}}},753:function(e,t,r){var content=r(780);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("2feef2b6",content,!0,{sourceMap:!1})},779:function(e,t,r){"use strict";r(753)},780:function(e,t,r){var n=r(19)(!1);n.push([e.i,".password-field__toggle[data-v-1646b978]{cursor:pointer}",""]),e.exports=n},783:function(e,t,r){"use strict";var n=r(195),o=r(110),c={props:{value:{type:String,default:null},onEnter:{type:Function,default:function(){}}},data:function(){return{show:!1}},computed:{icon:function(){return this.show?"mdi-eye-outline":"mdi-eye-off-outline"},type:function(){return this.show?"text":"password"}},methods:{toggle:function(){this.show=!this.show},onChange:function(e){this.$emit("input",e)}}},l=(r(779),r(14)),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t(o.a,e._b({staticClass:"password-field",attrs:{type:e.type,value:e.value},on:{input:e.onChange,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.onEnter.apply(null,arguments))}}},"v-text-field",e.$attrs,!1),[t(n.a,{staticClass:"password-field__toggle icon",attrs:{slot:"append"},on:{click:e.toggle},slot:"append"},[e._v("\n    "+e._s(e.icon)+"\n  ")])],1)}),[],!1,null,"1646b978",null);t.a=component.exports},865:function(e,t,r){"use strict";var n=r(285),o=r(717),c=r(716),l=r(733),f=r(885),m=r.n(f),d=(r(886),{components:{VueCropper:m.a},props:{value:{type:Boolean,default:!1}},data:function(){return{show:this.value,imgSrc:null}},watch:{value:function(e){this.imgSrc&&(this.show=e),e&&!this.imgSrc&&this.launchFilePicker()},show:function(e){this.$emit("input",e),this.imgSrc=null}},mounted:function(){var e=this;document.body.onfocus=function(){e.imgSrc||e.show||e.$emit("input",!1)}},methods:{launchFilePicker:function(){this.$refs.filePicker.click()},onFileChange:function(e){var t=this,r=e.target.files[0];if(r&&this.isImage(r)){this.show=!0;var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(e){t.imgSrc=e.target.result}}else this.imgSrc=null,this.show=!1},save:function(){var e=this;this.$refs.filePicker.value=null,this.$refs.cropper.getCroppedCanvas().toBlob((function(t){e.imgSrc=null,e.show=!1,e.$emit("change",t)}))},cancel:function(){this.show=!1,this.imgSrc=null},isImage:function(e){return e&&"image"===e.type.split("/")[0]}}}),h=r(14),component=Object(h.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("input",{ref:"filePicker",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFileChange}}),e._v(" "),t(l.a,{attrs:{persistent:"","max-width":"500"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(o.a,[t(c.c,{staticClass:"headline"},[e._v("\n        Crop Image\n      ")]),e._v(" "),t(c.b,[e.imgSrc?t("div",[t("vue-cropper",{ref:"cropper",attrs:{guides:!0,"drag-mode":"crop",src:e.imgSrc,"aspect-ratio":1,"initial-aspect-ratio":1}})],1):e._e()]),e._v(" "),t(c.a,[t("div",{staticClass:"flex-grow-1"}),e._v(" "),t(n.a,{attrs:{text:""},on:{click:e.cancel}},[e._v("\n          Cancel\n        ")]),e._v(" "),e.imgSrc?t(n.a,{attrs:{color:"primary"},on:{click:e.save}},[e._v("\n          Save\n        ")]):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports},866:function(e,t,r){"use strict";var n=r(720),o=(r(12),r(10),r(7),r(3),r(15),r(11),r(16),r(4)),c=r(27),l=r(1),f=(r(46),r(32),r(41));function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={mixins:[r(274).a],props:{value:{type:[String,Number],default:null},placeholder:{type:String,default:"Location"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},valueColumn:{type:String,default:"id"},textColumn:{type:String,default:"formatted_address"}},computed:d(d({},Object(f.e)({form:function(e){return e.location.listing},locations:function(e){return e.location.list}})),{},{validItems:function(){return Object(c.a)(this.locations&&this.locations.length?this.locations:[])}}),mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetch();case 2:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){this.$emit("input",e)},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.$clearErrors(),e.form.$busy){t.next=4;break}return t.next=4,e.$store.dispatch("location/getList").then((function(){e.form.$hasErrors()&&e.showSnackbar(e.form.$errorMessage,!1)}));case 4:case"end":return t.stop()}}),t)})))()}}},v=r(14),component=Object(v.a)(h,(function(){var e=this;return(0,e._self._c)(n.a,e._b({staticClass:"select-location",attrs:{value:e.value,items:e.validItems,"item-text":e.textColumn,"item-value":e.valueColumn,label:e.placeholder,loading:e.loading,disabled:e.disabled,"append-icon":"mdi-chevron-down"},on:{input:e.onChange}},"v-select",e.$attrs,!1))}),[],!1,null,null,null);t.a=component.exports}}]);