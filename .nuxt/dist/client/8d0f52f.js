(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1002:function(t,e,r){var content=r(1242);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("32ce7b99",content,!0,{sourceMap:!1})},1003:function(t,e,r){var content=r(1244);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("347352a0",content,!0,{sourceMap:!1})},1241:function(t,e,r){"use strict";r(1002)},1242:function(t,e,r){var n=r(19)(!1);n.push([t.i,".subscription-tier[data-v-64ef6e38]{max-width:345px;padding:20px 15px;border-radius:16px;border:1px solid #ececec;background:#fafafa}.subscription-tier__status[data-v-64ef6e38]{display:inline-block;padding:4px 15px;background:#2bb826;border-radius:30px}.subscription-tier__status--inactive[data-v-64ef6e38]{background:#fa4856}.subscription-tier__status p[data-v-64ef6e38]{color:#fff}.subscription-tier h5[data-v-64ef6e38]{font-size:20px}.subscription-tier p[data-v-64ef6e38]{margin-bottom:0}.subscription-tier__divider[data-v-64ef6e38]{width:100%;border-top:1px solid #cfcfcf}.subscription-tier__actions .v-btn[data-v-64ef6e38]{width:100%;border-radius:8px!important}.subscription-tier__actions__update[data-v-64ef6e38]{color:#007675}",""]),t.exports=n},1243:function(t,e,r){"use strict";r(1003)},1244:function(t,e,r){var n=r(19)(!1);n.push([t.i,".subscription-tier-page__border[data-v-222a456f]{max-width:350px;margin:0 auto}@media(max-width:540px){.subscription-tier-page__border[data-v-222a456f],.subscription-tier-page__card[data-v-222a456f]{max-width:none}}",""]),t.exports=n},1489:function(t,e,r){"use strict";r.r(e);var n=r(276),o=(r(10),r(75),r(12),r(7),r(3),r(15),r(11),r(16),r(1)),c=r(4),l=(r(29),r(34),r(46),r(41)),d=r(268),f=r(265);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{ConfirmationModal:d.a},mixins:[f.a],data:function(){return{showModal:!1}},fetch:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.form.$clearErrors(),t.form.$busy){e.next=4;break}return e.next=4,t.$store.dispatch("subscription/getCurrentSubscription").then((function(){t.hasSubscription||t.$nuxt.error({statusCode:404,message:"Subscription not found"})}));case 4:case"end":return e.stop()}}),e)})))()},computed:v(v(v({},Object(l.e)({form:function(t){return t.subscription.subscription},subscription:function(t){return t.subscription.subscriptionDetails},unsubscribeForm:function(t){return t.subscription.unsubscribe}})),Object(l.c)({hasSubscription:"subscription/hasSubscriptionDetails"})),{},{subscriptionDetails:function(){return this.hasSubscription&&this.subscription.subscription_details?this.subscription.subscription_details:{}},activeLabel:function(){return this.isActive?"Active":"Cancelled"},nameLabel:function(){return"".concat(this.subscription.name," ").concat(this.subscription.on_free_trial_period?"(Free Trial)":"")},paymentLabel:function(){return"".concat(this.isActive?"Next payment":"Expires on",": ").concat(this.isActive?this.subscriptionDetails.next_payment_date:this.subscriptionDetails.cancel_at,"   ").concat(this.isActive?"":"after this date your current plan will be set to a student plan")},isActive:function(){return this.subscription.is_subscribed&&!this.subscriptionDetails.canceled_at}}),methods:{toggleConfirmation:function(){this.showModal=!this.showModal},unsubscribe:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.unsubscribeForm.$busy){e.next=2;break}return e.abrupt("return");case 2:return t.unsubscribeForm.$clearErrors(),e.next=5,t.$store.dispatch("subscription/unsubscribe").then((function(){t.unsubscribeForm.$hasErrors()?t.showSnackbar(t.unsubscribeForm.$errorMessage,!1):t.showSnackbar("Unsubscription was successful!")}));case 5:case"end":return e.stop()}}),e)})))()}}},m=(r(1241),r(14)),x={components:{SubscriptionTier:Object(m.a)(h,(function(){var t=this,e=t._self._c;return t.hasSubscription&&!t.$fetchState.pending?e("div",{staticClass:"subscription-tier"},[e("div",{staticClass:"subscription-tier__status mb-4",class:{"subscription-tier__status--inactive":!t.isActive}},[e("p",{staticClass:"text-body-2 font-weight-bold"},[t._v("\n      "+t._s(t.activeLabel)+"\n    ")])]),t._v(" "),e("h5",{staticClass:"mb-4"},[t._v("\n    "+t._s(t.nameLabel)+"\n  ")]),t._v(" "),e("p",{staticClass:"text-body-2"},[t._v("\n    "+t._s(t.subscription.description)+"\n  ")]),t._v(" "),e("div",{staticClass:"subscription-tier__divider my-4"}),t._v(" "),e("p",{staticClass:"text-body-2"},[t._v("\n    "+t._s(t.paymentLabel)+"\n  ")]),t._v(" "),e("div",{staticClass:"subscription-tier__actions mt-7"},[e(n.a,{staticClass:"subscription-tier__actions__cancel mb-4",attrs:{loading:t.unsubscribeForm.$busy,disabled:t.unsubscribeForm.$busy||!t.isActive,color:"error",outlined:"",depressed:""},on:{click:t.toggleConfirmation}},[t._v("\n      Cancel subscription\n    ")]),t._v(" "),e(n.a,{staticClass:"subscription-tier__actions__update text-decoration-none",attrs:{disabled:t.unsubscribeForm.$busy,color:"#E6F1F1",depressed:"",to:{name:"go-pro"}}},[t._v("\n      Update tier\n    ")])],1),t._v(" "),e("ConfirmationModal",{attrs:{title:"",content:"You will still have access to your account up until the end of the billing period. Would you like to unsubscribe?","confirm-label":"Unsubscribe"},on:{confirm:t.unsubscribe},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}})],1):t._e()}),[],!1,null,"64ef6e38",null).exports},head:function(){return{title:"Subscription Tier | "}}},w=(r(1243),Object(m.a)(x,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"subscription-tier-page screen-border"},[t._m(0),t._v(" "),e("div",{staticClass:"subscription-tier-page__border"},[e("h6",{staticClass:"mb-5"},[t._v("\n      Your Subscription Details:\n    ")]),t._v(" "),e("SubscriptionTier",{staticClass:"subscription-tier-page__card"})],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"subscription-tier-page__header mb-5"},[t("h4",[this._v("Subscription Tier")])])}],!1,null,"222a456f",null));e.default=w.exports}}]);